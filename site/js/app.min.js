function Config(a,b,c){console.log("Config"),a.state("home",{cache:!0,url:"/",controller:"HomeController",templateUrl:"templates/categories/8.html",resolve:{categories:["CategoryService",function(a){return console.log("CALL: resolve.categories1"),a.getCategories()}],setScope:["$rootScope","$state","$stateParams","categories","setScopeService",function(a,b,c,d,e){return console.log("CALL: resolve.setScope1"),e.init(a,b,c,d)}]}}).state("category",{cache:!0,url:"/{id:[1-9][0-9]*}/{title:.*}",controller:"CategoryController",templateUrl:"templates/categories/8.html",resolve:{categories:["CategoryService",function(a){return console.log("CALL: resolve.categories2"),a.getCategories()}],setScope:["$rootScope","$state","$stateParams","categories","setScopeService",function(a,b,c,d,e){return console.log("CALL: resolve.setScope2"),e.init(a,b,c,d)}]}}).state("object",{cache:!0,url:"/{id:[1-9][0-9]*}-{id2:[1-9][0-9]*}/{title:.*}/{title2:.*}",controller:"CategoryController",templateUrl:"templates/categories/8.html"})}function Run(a,b,c,d,e,f){a.$on("$stateChangeStart",function(a,b){})}function CategoryController(a,b,c,d){console.log("CategoryControllerLoaded. ID:",c.id),b.currentID=c.id}function HomeController(a,b){console.log("HomeController!"),a.pie=b}function MainController(a,b,c,d,e,f){c.siteUrl="/Jini3/#",c.mediaUrl="/Jini3/public/uploads/",c.pie=e,c.fixPie=function(){f.init(c.currentCategories.length,c.isFirst)},c.centerImage="../img/no_selector.png",c.imageOn=function(a){c.centerImage=a.featuredImageUrl},c.imageOff=function(){c.centerImage="../img/no_selector.png"},console.log("MainController")}function setScopeService(){return{init:function(a,b,c,d){console.log("CALL: setScopeService");var e=c.id||0;a.currentBreadCrumbs=d.breadcrumbs[e];var f=d.parents[e];return d.categories.length&&"undefined"==typeof f&&b.go("home"),a.currentCategories=getCategoriesByParentArray(d.categories,f.slice()),0==f.length?a.parentID=null:f.length<=1?a.parentID=0:a.parentID=f[f.length-2],a.currentCategories=splitCurrentCategoriesTitle(a.currentCategories),!0}}}function CategoryService(a,b,c,d){var e={};return e.getCategories=function(){if(d.isFirst=!1,e.categoriesData)return e.categoriesData;var f=c.id||0;return e.categoriesData=a.get("/Jini3/public/categories/"+f+"/categories").then(function(a){return("undefined"==typeof a.data.parents||"undefined"==typeof a.data.parents[f])&&b.go("home"),d.isFirst=!0,a.data})},e}function fixPie(a){return{init:function(a,b){this.rotateCircle(a),this.rotateImage(a),b&&this.openCircle(a)},rotateCircle:function(b){var c=!1;switch(b){case 3:c=-30;break;case 4:c=-45;break;case 5:c=-55;break;case 6:c=-60;break;case 7:c=-65;break;case 8:c=-67;break;case 9:c=-70;break;case 10:c=-71}c&&TweenLite.set(a[0].querySelector("#menu"),{rotation:c,transformOrigin:"50% 50%"})},rotateImage:function(b){var c=!1;switch(b){case 2:c=-0;break;case 3:c=30;break;case 5:c=55;break;case 4:c=45;break;case 6:c=60;break;case 7:c=65;break;case 8:c=67;break;case 9:c=70;break;case 10:c=71}c&&TweenLite.set(a[0].querySelector("#featuredImage"),{rotation:c,transformOrigin:"50% 50%"})},openCircle:function(b){var c=b,d=a[0].querySelector("#menu"),e=d.querySelectorAll(".item"),f=360/c,g=new TimelineLite;g.to(e,.2,{scale:1,ease:Back.easeOut.config(4)},.05);for(var h=0;h<e.length;h++)g.to(e[h],.7,{rotation:-h*f+"deg"},.35);setTimeout(function(){for(var a=0;a<e.length;a++)e[a].querySelectorAll(".sector")[0].style.opacity="0.8",e[a].querySelectorAll(".sector")[0].style.transition="all .2s linear"},1e3)}}}function pie(){return{2:{global:{svgOrigin:"250 250",d:"M365,250 l135,0 A250,250 0 0,0 0.03084187958484108,246.07317067204482 l134.9833453850242,2.1204878370957942 A115,115 0 0,1 365,250",x:"280.0154113769531",y:"178.03659057617188"},transform_a:["rotate(0 250 250)","rotate(-180 250 250)"],transform_b:["rotate(0 300.0154113769531 198.03659057617188)","rotate(180 250.0154113769531 80.03659057617188)"]},3:{global:{svgOrigin:"250 250",d:"M365,250 l135,0 A250,250 0 0,0 127.27406159621479,32.196547219952635 l66.272006738044,117.61386450122558 A115,115 0 0,1 365,250",x:"339.0684509277344",y:"77.48664855957031"},transform_a:["rotate(0 250 250)","rotate(-120 250 250)","rotate(-240 250 250)"],transform_b:["rotate(30 359.0684509277344 97.48664855957031)","rotate(-140 359.0684509277344 97.48664855957031)","rotate(-140 359.0684509277344 97.48664855957031)"]},4:{global:{svgOrigin:"250 250",d:"M365,250 l135,0 A250,250 0 0,0 251.96347522217783,0.007710588802581242 l-1.0602766199760367,134.9958362820466 A115,115 0 0,1 365,250",x:"355.98175048828125",y:"105.00385284423828"},transform_a:["rotate(0 250 250)","rotate(-90 250 250)","rotate(-180 250 250)","rotate(-270 250 250)"],transform_b:["rotate(45 375.98175048828125 125.00385284423828)","rotate(45 375.98175048828125 125.00385284423828)","rotate(-135 375.98175048828125 125.00385284423828)","rotate(45 375.98175048828125 125.00385284423828)"]},5:{global:{svgOrigin:"250 250",d:"M365,250 l135,0 A250,250 0 0,0 328.7466299138262,12.725963752426338 l-42.52318015346617,128.12797957368977 A115,115 0 0,1 365,250",x:"382.0361633300781",y:"120.26736450195312"},transform_a:["rotate(0 250 250)","rotate(-72 250 250)","rotate(-144 250 250)","rotate(-216 250 250)","rotate(-288 250 250)"],transform_b:["rotate(55 402.0361633300781 140.26736450195312)","rotate(55 402.0361633300781 140.26736450195312)","rotate(-125 402.0361633300781 140.26736450195312)","rotate(-125 402.0361633300781 140.26736450195312)","rotate(55 402.0361633300781 140.26736450195312)"]},6:{global:{svgOrigin:"250 250",d:"M365,250 l135,0 A250,250 0 0,0 376.1319059537548,34.151112348307095 l-68.1112292150276,116.55839933191416 A115,115 0 0,1 365,250",x:"392.6246337890625",y:"136.67543029785156"},transform_a:["rotate(0 250 250)","rotate(-60 250 250)","rotate(-120 250 250)","rotate(-180 250 250)","rotate(-240 250 250)","rotate(-300 250 250)"],transform_b:["rotate(60 412.6246337890625 156.67543029785156)","rotate(60 412.6246337890625 156.67543029785156)","rotate(-120 412.6246337890625 156.67543029785156)","rotate(-120 412.6246337890625 156.67543029785156)","rotate(-120 412.6246337890625 156.67543029785156)","rotate(60 412.6246337890625 156.67543029785156)"]},7:{global:{svgOrigin:"250 250",d:"M365,250 l135,0 A250,250 0 0,0 406.7480905992045,55.243649414188354 l-84.64396892357041,105.16842931633829 A115,115 0 0,1 365,250",x:"399.1138000488281",y:"149.02609252929688"},transform_a:["rotate(0 250 250)","rotate(-51.42857142857143 250 250)","rotate(-102.85714285714286 250 250)","rotate(-154.28571428571428 250 250)","rotate(-205.71428571428572 250 250)","rotate(-257.14285714285717 250 250)","rotate(-308.57142857142856 250 250)"],transform_b:["rotate(65 419.1138000488281 169.02609252929688)","rotate(65 419.1138000488281 169.02609252929688)","rotate(-115 419.1138000488281 169.02609252929688)","rotate(-115 419.1138000488281 169.02609252929688)","rotate(-115 419.1138000488281 169.02609252929688)","rotate(-115 419.1138000488281 169.02609252929688)","rotate(65 419.1138000488281 169.02609252929688)"]},8:{global:{svgOrigin:"250 250",d:"M365,250 l135,0 A250,250 0 0,0 427.4695309138226,73.91886643587344 l-95.8335466934642,95.08381212462837 A115,115 0 0,1 365,250",x:"403.3679504394531",y:"158.58712768554688"},transform_a:["rotate(0 250 250)","rotate(-45 250 250)","rotate(-90 250 250)","rotate(-135 250 250)","rotate(-180 250 250)","rotate(-225 250 250)","rotate(-270 250 250)","rotate(-315 250 250)"],transform_b:["rotate(67 423.3679504394531 178.58712768554688)","rotate(67 423.3679504394531 178.58712768554688)","rotate(67 423.3679504394531 178.58712768554688)","rotate(-115 423.3679504394531 178.58712768554688)","rotate(-115 423.3679504394531 178.58712768554688)","rotate(-115 423.3679504394531 178.58712768554688)","rotate(67 423.3679504394531 178.58712768554688)","rotate(67 423.3679504394531 178.58712768554688)"]},9:{global:{svgOrigin:"250 250",d:"M365,250 l135,0 A250,250 0 0,0 442.0708808983809,89.97257512876115 l-103.71827568512572,86.41480943046898 A115,115 0 0,1 365,250",x:"406.30401611328125",y:"166.1788330078125"},transform_a:["rotate(0 250 250)","rotate(-40 250 250)","rotate(-80 250 250)","rotate(-120 250 250)","rotate(-160 250 250)","rotate(-200 250 250)","rotate(-240 250 250)","rotate(-280 250 250)","rotate(-320 250 250)"],transform_b:["rotate(70 426.30401611328125 186.1788330078125)","rotate(70 426.30401611328125 186.1788330078125)","rotate(70 426.30401611328125 186.1788330078125)","rotate(-115 426.30401611328125 186.1788330078125)","rotate(-115 426.30401611328125 186.1788330078125)","rotate(-115 426.30401611328125 186.1788330078125)","rotate(-115 426.30401611328125 186.1788330078125)","rotate(70 426.30401611328125 186.1788330078125)","rotate(70 426.30401611328125 186.1788330078125)"]},10:{global:{svgOrigin:"250 250",d:"M365,250 l135,0 A250,250 0 0,0 452.71489520809337,103.6898114936225 l-109.46604341237042,79.00750179344385 A115,115 0 0,1 365,250",x:"408.41387939453125",y:"172.33949279785156"},transform_a:["rotate(0 250 250)","rotate(-36 250 250)","rotate(-72 250 250)","rotate(-108 250 250)","rotate(-144 250 250)","rotate(-180 250 250)","rotate(-216 250 250)","rotate(-252 250 250)","rotate(-288 250 250)","rotate(-324 250 250)"],transform_b:["rotate(72 428.41387939453125 192.33949279785156)","rotate(72 428.41387939453125 192.33949279785156)","rotate(72 428.41387939453125 192.33949279785156)","rotate(-109 428.41387939453125 192.33949279785156)","rotate(-109 428.41387939453125 192.33949279785156)","rotate(-109 428.41387939453125 192.33949279785156)","rotate(-109 428.41387939453125 192.33949279785156)","rotate(72 428.41387939453125 192.33949279785156)","rotate(72 428.41387939453125 192.33949279785156)","rotate(72 428.41387939453125 192.33949279785156)"]}}}function split2s(a,b){var c=a.indexOf(b);return-1!==c?[a.substring(0,c),a.substring(c+1)]:[a]}function replaceAll(a,b,c){return c.replace(new RegExp(a,"g"),b)}function splitCurrentCategoriesTitle(a){for(i in a){var b=replaceAll("/","",a[i].title);b=replaceAll("-","",b);var c=split2s(b," ");a[i].newTitle=c.length>1?c:!1}return a}function getCategoriesByParentArray(a,b){if(0!=b.length)for(var c=0;c<a.length;c++)if(a[c].id==b[0]){if(b.shift(),!a[c].items_count)break;a=getCategoriesByParentArray(a[c].items,b)}return a}angular.module("JINI",["ui.router","ngStorage","ngMessages","JINI.controllers","JINI.directives","JINI.filters","JINI.services","JINI.templates"]).config(Config).run(Run),Config.$inject=["$stateProvider","$urlRouterProvider","$localStorageProvider"],Run.$inject=["$rootScope","$state","$localStorage","$sessionStorage","$window","$http"],angular.module("JINI.controllers",[]),angular.module("JINI.controllers").controller("CategoryController",["$rootScope","$scope","$stateParams","$http",CategoryController]),angular.module("JINI.controllers").controller("HomeController",["$scope","pie",HomeController]),angular.module("JINI.controllers").controller("MainController",MainController),MainController.$inject=["$stateParams","$http","$rootScope","$scope","pie","fixPie"],angular.module("JINI.directives",[]),angular.module("JINI.services",[]).factory("pie",pie).factory("fixPie",["$document",fixPie]).factory("CategoryService",["$http","$state","$stateParams","$rootScope",CategoryService]).factory("setScopeService",setScopeService),angular.module("JINI.filters",[]),angular.module("JINI.templates",[]),angular.module("JINI.templates").run(["$templateCache",function(a){"use strict";a.put("templates/categories/8.html",'<div id="breadcrumbs">\r\n    <ul>\r\n        <li ng-class="{{!currentBreadCrumbs.length ? \'current\' : \'\'}}">\r\n           <a ng-if="currentBreadCrumbs.length" href="#/">\r\n               Home\r\n           </a>\r\n            <span ng-if="!currentBreadCrumbs.length">\r\n                Home\r\n            </span>\r\n        </li>\r\n        <li ng-repeat="(k, v) in currentBreadCrumbs">\r\n            <a ng-if="!$last" ng-href="{{\'#/\' + v.id + \'/\' + v.name}}">{{v.title}}</a>\r\n            <span ng-if="$last">{{v.title}}</span>\r\n        </li>\r\n    </ul>\r\n</div>\r\n<div id="demo-wrapper" style="">\r\n\r\n    <a title="Go Home" ng-if="parentID == 0" ng-href="#/" class="back-button"></a>\r\n    <a title="Back to parent Category" ng-if="parentID != 0 && parentID != null" ng-href="#/{{ parentID }}/" class="back-button"></a>\r\n    <!-- SVG Menu Generated By CIRCULUS.SVG :: http://sarasoueidan.com/tools/circulus -->\r\n    <svg ng-mouseleave="imageOff()" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-2 -2 504 504" id="menu">\r\n        <g id="trigger" class="trigger menu-trigger" role="button">\r\n            <circle cx="250" cy="250" r="110"></circle>\r\n        </g>\r\n        <g id="symbolsContainer">\r\n            <symbol ng-repeat="(k, v) in currentCategories"  class="icon icon-" id="icon-{{k+1}}" viewBox="0 0 40 40">\r\n                <text ng-if="currentCategories.length == 2" fill="#222" dx="-30" y="0" dy="-115px" text-anchor="middle" font-size="22px">{{v.title}}</text>\r\n                <text ng-if="currentCategories.length != 2" fill="#222" x="50%" dx="0" y="50%" dy="0px" text-anchor="middle" font-size="16px">{{v.newTitle ? v.newTitle[0] : v.title}}</text>\r\n                <text ng-if="currentCategories.length != 2 && v.newTitle" fill="#222" x="50%" dx="0" y="50%" dy="20px" text-anchor="middle" font-size="16px">{{v.newTitle[1]}}</text>\r\n            </symbol>\r\n            <image data-svg-origin="250 250" id="featuredImage" width="200" height="200" x="150" y="150" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="" ng-href="{{centerImage ? mediaUrl + centerImage : \' \'}}" style="transform-origin: 0px 0px 0px; transform: matrix(0.99999, 0, 0, 0.99999, 0.00216995, -0.000230047);"></image>\r\n        </g>\r\n        <g id="itemsContainer">\r\n            <a ng-class="{{ currentID == v.id ? \'current\' : \'\'}}" ng-attr-data-category-id="{{v.id}}" ng-init="$last ? fixPie() : \'\'" ng-href="{{v.items_count ? \'#/\' + v.id + \'/\' + v.name: \'javascript:void(0)\'}}" ng-mouseover="imageOn(v)" ng-repeat="(k, v) in currentCategories" class="item" id="item-{{k+1}}" data-title="{{v.title}}" data-featured-image="{{v.featuredImageUrl}}" data-content-image="{{v.contentImageUrl}}" role="link" tabindex="0" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href=" " xlink:title="{{v.title}}" ng-attr-transform="{{pie[currentCategories.length].transform_a[k]}}" data-svg-origin="{{pie[currentCategories.length].global.svgOrigin}}" ng-attr-style="{{ isFirst ? \'transform: matrix(0, 0, 0, 0, 250, 250);\' : \'\'}}">\r\n                <path fill="none" stroke="#111" ng-attr-d="{{pie[currentCategories.length].global.d}}" class="sector {{!isFirst ? \'opacity\' : \'\'}}"></path>\r\n                <use xlink:href="" ng-href="#icon-{{k+1}}" width="40" height="40" ng-attr-x="{{pie[currentCategories.length].global.x}}" ng-attr-y="{{pie[currentCategories.length].global.y}}" ng-attr-transform="{{pie[currentCategories.length].transform_b[k]}}"></use>\r\n            </a>\r\n        </g>\r\n    </svg>\r\n\r\n</div>'),a.put("templates/home/index.html",'<div nf-if="0">\n    <div ng-if="parentID == 0">\n        <a ng-href="{{ siteUrl }}">\n            Go Home\n        </a>\n    </div>\n    <div ng-if="parentID != 0 && parentID != null">\n        <a ng-href="{{ siteUrl }}/category/{{ parentID }}">\n            Back to parent Category\n        </a>\n    </div>\n    <div ng-repeat="(k, v) in currentCategories">\n        <a ng-if="v.items_count" ng-href="{{ siteUrl }}category/{{ v.id }}">\n            {{ v.id }} => {{ v.title }}\n        </a>\n        <div ng-if="!v.items_count">\n            {{ v.id }} => {{ v.title }}\n        </div>\n    </div>\n</div>\n<div id="demo">\n    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-2 -2 504 504" id="menu">\n        <style>\n            #menu {\n                display: block;\n                margin: 0 auto;\n                /*overflow: visible;*/ /* uncomment this if you are using bouncing animations*/\n            }\n\n            a {\n                cursor: pointer; /* SVG &lt;a&gt; elements don\'t get this by default, so you need to explicitly set it */\n                outline: none;\n                font-weight: bold;\n                font-size: 17px;\n            }\n\n            /* You can change these default styles any way you want */\n\n            .item .sector {\n                transition: all .1s linear;\n                fill: #fff;\n                stroke: transparent;\n                opacity: 0.8;\n            }\n\n\n            .item:hover .sector, .item:focus .sector {\n                fill: #fff;\n                opacity: 0.6;\n            }\n\n            .menu-trigger {\n                fill: #fff;\n                stroke: transparent;\n                opacity: 1;\n                pointer-events: auto; /* KEEP THIS to make sure it stays clickable even when SVG\'s pointer events is disabled */\n            }\n\n            .menu-trigger:hover, .menu-trigger:focus {\n                cursor: pointer;\n            }\n            symbol {\n                overflow: visible; /* KEEP THIS so that text will not get cut off it it is wider than the icon width */\n            }\n        </style>\n        <g id="trigger" class="trigger menu-trigger" role="button">\n            <circle cx="250" cy="250" r="110" />\n            <!-- menu button label or icon goes here -->\n        </g>\n        <g id="itemsContainer">\n            <!-- the menu items -->\n        </g>\n        <g id="symbolsContainer">\n            <!-- replace the contents of these symbols with the contents of your icons -->\n        </g>\n    </svg>\n</div>')}]);